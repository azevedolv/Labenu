{"ast":null,"code":"import _slicedToArray from\"C:/Users/azeve/OneDrive/Documentos/silveira-Luiz-Azevedo/modulo6/case2/frontend/case2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Typography}from'@mui/material';import React from'react';import CartCard from'../../components/CartCard/CartCard';import Footer from'../../components/Footer/Footer';import InputText from'../../components/InputText/InputText';import{useGlobal}from'../../context/global/GlobalStateContext';import{Body,GlobalStyle}from'../Index/styled';import{DivHeader,DivShowOrders}from'./styled';import Card from'@mui/material/Card';import CardContent from'@mui/material/CardContent';import{useState}from'react';import useRequestData from'../../hooks/useRequestData';import{BASE_URL}from'../../constants/urls';import VisibilityOffIcon from'@mui/icons-material/VisibilityOff';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Cart(){var _useGlobal=useGlobal(),states=_useGlobal.states,setters=_useGlobal.setters;var setOrderMessage=setters.setOrderMessage,setCart=setters.setCart,setLastOrderInfo=setters.setLastOrderInfo,setShowInfoInCart=setters.setShowInfoInCart,setShowMessage=setters.setShowMessage;var cart=states.cart,orderMessage=states.orderMessage,orderInfo=states.orderInfo,lastOrderInfo=states.lastOrderInfo,showInfoInCart=states.showInfoInCart,showMessage=states.showMessage;var _useRequestData=useRequestData(\"\".concat(BASE_URL,\"/api/orders\"),[]),_useRequestData2=_slicedToArray(_useRequestData,2),orders=_useRequestData2[0],request=_useRequestData2[1];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAllOrders=_useState2[0],setShowAllOrders=_useState2[1];var ordersMap=orders&&orders.map(function(order){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Card,{sx:{minWidth:275},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{sx:{fontSize:14},color:\"text.secondary\",gutterBottom:true,children:order.id}),/*#__PURE__*/_jsx(Typography,{variant:\"h8\",component:\"div\",children:\"Pizza\"}),/*#__PURE__*/_jsx(Typography,{sx:{mb:1.5},color:\"text.secondary\",children:order.items})]})})},order.id);});console.log(orders);var token=localStorage.getItem(\"token\");return/*#__PURE__*/_jsxs(Body,{children:[/*#__PURE__*/_jsx(GlobalStyle,{}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(DivHeader,{children:[cart.length>0?/*#__PURE__*/_jsx(CartCard,{setShowMessage:setShowMessage,setShowInfoInCart:setShowInfoInCart,setLastOrderInfo:setLastOrderInfo,lastOrderInfo:lastOrderInfo,setCart:setCart,orderMessage:orderMessage,setOrderMessage:setOrderMessage,cart:cart}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(InputText,{setShowMessage:setShowMessage,setShowInfoInCart:setShowInfoInCart})}),token?/*#__PURE__*/_jsxs(DivShowOrders,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setShowAllOrders(true);},children:\"Buscar Pedidos\"}),/*#__PURE__*/_jsx(VisibilityOffIcon,{onClick:function onClick(){return setShowAllOrders(false);}})]}):/*#__PURE__*/_jsx(_Fragment,{}),showMessage===true?/*#__PURE__*/_jsx(Card,{sx:{minWidth:275},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{sx:{fontSize:14},color:\"text.secondary\",gutterBottom:true,children:\"Mensagem de confirma\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"div\",children:orderMessage}),/*#__PURE__*/_jsx(Typography,{sx:{mb:1.5},color:\"text.secondary\",children:lastOrderInfo.name}),/*#__PURE__*/_jsxs(Typography,{sx:{mb:1.5},color:\"text.secondary\",children:[\"R$\",lastOrderInfo.price,\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Quantidade: \",lastOrderInfo.quantity]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:lastOrderInfo.ingredients})]})}):/*#__PURE__*/_jsx(_Fragment,{}),showInfoInCart===true?/*#__PURE__*/_jsx(Card,{sx:{minWidth:275},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{sx:{fontSize:14},color:\"text.secondary\",gutterBottom:true,children:\"Pedido\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",component:\"div\",children:[\"ID: \",orderInfo.id]}),/*#__PURE__*/_jsx(Typography,{sx:{mb:1.5},color:\"text.secondary\",children:orderInfo.pizza}),/*#__PURE__*/_jsxs(Typography,{sx:{mb:1.5},color:\"text.secondary\",children:[\"Quantidade: \",orderInfo.quantity]})]})}):/*#__PURE__*/_jsx(_Fragment,{}),showAllOrders===true?ordersMap:/*#__PURE__*/_jsx(_Fragment,{})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default Cart;","map":{"version":3,"names":["Button","Typography","React","CartCard","Footer","InputText","useGlobal","Body","GlobalStyle","DivHeader","DivShowOrders","Card","CardContent","useState","useRequestData","BASE_URL","VisibilityOffIcon","Cart","states","setters","setOrderMessage","setCart","setLastOrderInfo","setShowInfoInCart","setShowMessage","cart","orderMessage","orderInfo","lastOrderInfo","showInfoInCart","showMessage","orders","request","showAllOrders","setShowAllOrders","ordersMap","map","order","minWidth","fontSize","id","mb","items","console","log","token","localStorage","getItem","length","name","price","quantity","ingredients","pizza"],"sources":["C:/Users/azeve/OneDrive/Documentos/silveira-Luiz-Azevedo/modulo6/case2/frontend/case2/src/pages/Cart/Cart.js"],"sourcesContent":["import { Button, Typography } from '@mui/material';\r\nimport React from 'react'\r\nimport CartCard from '../../components/CartCard/CartCard';\r\nimport Footer from '../../components/Footer/Footer';\r\nimport InputText from '../../components/InputText/InputText';\r\nimport { useGlobal } from '../../context/global/GlobalStateContext';\r\nimport { Body, GlobalStyle } from '../Index/styled';\r\nimport { DivHeader, DivShowOrders } from './styled';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport { useState } from 'react';\r\nimport useRequestData from '../../hooks/useRequestData';\r\nimport { BASE_URL } from '../../constants/urls';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\n\r\nfunction Cart() {\r\n  const { states, setters } = useGlobal()\r\n  const { setOrderMessage, setCart, setLastOrderInfo, setShowInfoInCart, setShowMessage } = setters\r\n  const { cart, orderMessage, orderInfo, lastOrderInfo, showInfoInCart, showMessage } = states\r\n\r\n  const [orders, request] = useRequestData(`${BASE_URL}/api/orders`, [])\r\n  const [showAllOrders, setShowAllOrders] = useState(false)\r\n  const ordersMap = orders && orders.map((order) => {\r\n    return (\r\n      <div key={order.id}>\r\n        <Card sx={{ minWidth: 275 }}>\r\n          <CardContent>\r\n            <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\r\n              {order.id}\r\n            </Typography>\r\n            <Typography variant=\"h8\" component=\"div\">\r\n              Pizza\r\n            </Typography>\r\n            <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\r\n              {order.items}\r\n            </Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n  })\r\n\r\n  console.log(orders);\r\n\r\n  const token = localStorage.getItem(\"token\")\r\n  return (\r\n    <Body>\r\n      <GlobalStyle />\r\n      <main>\r\n        <DivHeader>\r\n          {cart.length > 0 ? (<CartCard setShowMessage={setShowMessage} setShowInfoInCart={setShowInfoInCart} setLastOrderInfo={setLastOrderInfo} lastOrderInfo={lastOrderInfo} setCart={setCart} orderMessage={orderMessage} setOrderMessage={setOrderMessage} cart={cart} />)\r\n            :\r\n            <>\r\n              <InputText setShowMessage={setShowMessage} setShowInfoInCart={setShowInfoInCart} />\r\n            </>\r\n          }\r\n          {token ? (\r\n          <DivShowOrders>\r\n          <Button onClick={() => setShowAllOrders(true)}>Buscar Pedidos</Button>\r\n          <VisibilityOffIcon onClick={() => setShowAllOrders(false)}/>\r\n          </DivShowOrders>\r\n          ) : <></>}\r\n          {showMessage === true ?\r\n            <Card sx={{ minWidth: 275 }}>\r\n              <CardContent>\r\n                <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\r\n                  Mensagem de confirmação\r\n                </Typography>\r\n                <Typography variant=\"h5\" component=\"div\">\r\n                  {orderMessage}\r\n                </Typography>\r\n                <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\r\n                  {lastOrderInfo.name}\r\n                </Typography>\r\n                <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\r\n                  R${lastOrderInfo.price} <br />Quantidade: {lastOrderInfo.quantity}\r\n                </Typography>\r\n                <Typography variant=\"body2\">\r\n                  {lastOrderInfo.ingredients}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n            :\r\n            <></>\r\n          }\r\n\r\n          {showInfoInCart === true ?\r\n            <Card sx={{ minWidth: 275 }}>\r\n              <CardContent>\r\n                <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\r\n                  Pedido\r\n                </Typography>\r\n                <Typography variant=\"h5\" component=\"div\">\r\n                  ID: {orderInfo.id}\r\n                </Typography>\r\n                <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\r\n                  {orderInfo.pizza}\r\n                </Typography>\r\n                <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\r\n                  Quantidade: {orderInfo.quantity}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n            :\r\n            <></>\r\n          }\r\n          {showAllOrders === true ? ordersMap : <></>}\r\n\r\n        </DivHeader>\r\n      </main>\r\n      <Footer />\r\n    </Body>\r\n  )\r\n}\r\n\r\nexport default Cart"],"mappings":"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"},"metadata":{},"sourceType":"module"}