{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/azeve/OneDrive/Documentos/silveira-Luiz-Azevedo/modulo6/case2/frontend/case2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/azeve/OneDrive/Documentos/silveira-Luiz-Azevedo/modulo6/case2/frontend/case2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import*as React from'react';// import Box from '@mui/material/Box';\nimport Card from'@mui/material/Card';import CardActions from'@mui/material/CardActions';import CardContent from'@mui/material/CardContent';import Button from'@mui/material/Button';import Typography from'@mui/material/Typography';import axios from'axios';import{BASE_URL}from'../../constants/urls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CartCard(_ref){var cart=_ref.cart,setOrderMessage=_ref.setOrderMessage,setCart=_ref.setCart,setLastOrderInfo=_ref.setLastOrderInfo,setShowMessage=_ref.setShowMessage;setLastOrderInfo(cart[0]);var confirmOrder=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(cart){var headers,body;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:headers={headers:{'Content-Type':'application/json'}};body={'pizza':cart.name,'quantity':cart.quantity};_context.next=4;return axios.post(\"\".concat(BASE_URL,\"/api/orders\"),body,headers).then(function(res){alert(\"Pedido realizado com sucesso.\");setOrderMessage(res.data.message);setShowMessage(true);setCart([]);}).catch(function(err){console.log(err);});case 4:case\"end\":return _context.stop();}}},_callee);}));return function confirmOrder(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Card,{sx:{minWidth:275},children:[/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{sx:{fontSize:14},color:\"text.secondary\",gutterBottom:true,children:\"Pedido\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"div\",children:cart[0].name}),/*#__PURE__*/_jsxs(Typography,{sx:{mb:1.5},color:\"text.secondary\",children:[\"R$\",cart[0].price,\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Quantidade: \",cart[0].quantity]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:cart[0].ingredients})]}),/*#__PURE__*/_jsx(CardActions,{children:/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:function onClick(){confirmOrder(cart[0]);},children:\"Confirmar pedido\"})})]})});}","map":{"version":3,"names":["React","Card","CardActions","CardContent","Button","Typography","axios","BASE_URL","CartCard","cart","setOrderMessage","setCart","setLastOrderInfo","setShowMessage","confirmOrder","headers","body","name","quantity","post","then","res","alert","data","message","catch","err","console","log","minWidth","fontSize","mb","price","ingredients"],"sources":["C:/Users/azeve/OneDrive/Documentos/silveira-Luiz-Azevedo/modulo6/case2/frontend/case2/src/components/CartCard/CartCard.js"],"sourcesContent":["import * as React from 'react';\r\n// import Box from '@mui/material/Box';\r\nimport Card from '@mui/material/Card';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport axios from 'axios';\r\nimport { BASE_URL } from '../../constants/urls';\r\n\r\n\r\n\r\nexport default function CartCard({cart, setOrderMessage, setCart, setLastOrderInfo, setShowMessage}) {\r\n  setLastOrderInfo(cart[0])\r\nconst confirmOrder = async (cart) =>{\r\nconst headers = {\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\nconst body ={\r\n  'pizza': cart.name,\r\n  'quantity': cart.quantity\r\n}\r\nawait axios.post(`${BASE_URL}/api/orders`, body, headers)\r\n  .then((res)=>{\r\n    alert(\"Pedido realizado com sucesso.\")\r\n    setOrderMessage(res.data.message)\r\n    setShowMessage(true)\r\n    setCart([])\r\n  })\r\n  .catch((err)=>{\r\n    console.log(err);\r\n  })\r\n}\r\n  return (\r\n    <div>\r\n    <Card sx={{ minWidth: 275 }}>\r\n      <CardContent>\r\n        <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\r\n          Pedido\r\n        </Typography>\r\n        <Typography variant=\"h5\" component=\"div\">\r\n          {cart[0].name} \r\n        </Typography>\r\n        <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\r\n          R${cart[0].price} <br />Quantidade: {cart[0].quantity}\r\n        </Typography>\r\n        <Typography variant=\"body2\">\r\n          {cart[0].ingredients}\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions>\r\n        <Button size=\"small\" onClick={()=>{confirmOrder(cart[0])}}>Confirmar pedido</Button>\r\n      </CardActions>\r\n      </Card>\r\n      </div>\r\n  );\r\n}\r\n"],"mappings":"sWAAA,MAAO,GAAKA,MAAZ,KAAuB,OAAvB,CACA;AACA,MAAOC,KAAP,KAAiB,oBAAjB,CACA,MAAOC,YAAP,KAAwB,2BAAxB,CACA,MAAOC,YAAP,KAAwB,2BAAxB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,sBAAzB,C,wFAIA,cAAe,SAASC,SAAT,MAAsF,IAAnEC,KAAmE,MAAnEA,IAAmE,CAA7DC,eAA6D,MAA7DA,eAA6D,CAA5CC,OAA4C,MAA5CA,OAA4C,CAAnCC,gBAAmC,MAAnCA,gBAAmC,CAAjBC,cAAiB,MAAjBA,cAAiB,CACnGD,gBAAgB,CAACH,IAAI,CAAC,CAAD,CAAL,CAAhB,CACF,GAAMK,aAAY,6FAAG,iBAAOL,IAAP,qIACfM,OADe,CACL,CACdA,OAAO,CAAE,CACP,eAAgB,kBADT,CADK,CADK,CAMfC,IANe,CAMT,CACV,QAASP,IAAI,CAACQ,IADJ,CAEV,WAAYR,IAAI,CAACS,QAFP,CANS,uBAUfZ,MAAK,CAACa,IAAN,WAAcZ,QAAd,gBAAqCS,IAArC,CAA2CD,OAA3C,EACHK,IADG,CACE,SAACC,GAAD,CAAO,CACXC,KAAK,CAAC,+BAAD,CAAL,CACAZ,eAAe,CAACW,GAAG,CAACE,IAAJ,CAASC,OAAV,CAAf,CACAX,cAAc,CAAC,IAAD,CAAd,CACAF,OAAO,CAAC,EAAD,CAAP,CACD,CANG,EAOHc,KAPG,CAOG,SAACC,GAAD,CAAO,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CATG,CAVe,uDAAH,kBAAZZ,aAAY,6CAAlB,CAqBE,mBACE,kCACA,MAAC,IAAD,EAAM,EAAE,CAAE,CAAEe,QAAQ,CAAE,GAAZ,CAAV,wBACE,MAAC,WAAD,yBACE,KAAC,UAAD,EAAY,EAAE,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAhB,CAAkC,KAAK,CAAC,gBAAxC,CAAyD,YAAY,KAArE,oBADF,cAIE,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,SAAS,CAAC,KAAnC,UACGrB,IAAI,CAAC,CAAD,CAAJ,CAAQQ,IADX,EAJF,cAOE,MAAC,UAAD,EAAY,EAAE,CAAE,CAAEc,EAAE,CAAE,GAAN,CAAhB,CAA6B,KAAK,CAAC,gBAAnC,gBACKtB,IAAI,CAAC,CAAD,CAAJ,CAAQuB,KADb,kBACoB,aADpB,gBACuCvB,IAAI,CAAC,CAAD,CAAJ,CAAQS,QAD/C,GAPF,cAUE,KAAC,UAAD,EAAY,OAAO,CAAC,OAApB,UACGT,IAAI,CAAC,CAAD,CAAJ,CAAQwB,WADX,EAVF,GADF,cAeE,KAAC,WAAD,wBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,OAAb,CAAqB,OAAO,CAAE,kBAAI,CAACnB,YAAY,CAACL,IAAI,CAAC,CAAD,CAAL,CAAZ,CAAsB,CAAzD,8BADF,EAfF,GADA,EADF,CAuBD"},"metadata":{},"sourceType":"module"}