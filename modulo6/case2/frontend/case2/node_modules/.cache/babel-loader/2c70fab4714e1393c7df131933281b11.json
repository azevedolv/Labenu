{"ast":null,"code":"import _slicedToArray from\"C:/Users/azeve/OneDrive/Documentos/silveira-Luiz-Azevedo/modulo6/case2/frontend/case2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Body,DivButtonLogout,GlobalStyle,HeaderButtonDiv}from'./styled';import useRequestData from'../../hooks/useRequestData';import{BASE_URL}from'../../constants/urls';import Footer from'../../components/Footer/Footer';import AdminPizzaCard from'../../components/AdminPizzaCard/AdminPizzaCard';import{Button}from'@mui/material';import{useNavigate}from'react-router-dom';import{goToAddPizza}from'../../routes/coordinator';import useProtectedPage from'../../hooks/useProtectedPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Admin(){var navigate=useNavigate();useProtectedPage();var _useRequestData=useRequestData(\"\".concat(BASE_URL,\"/api/pizzas\"),[]),_useRequestData2=_slicedToArray(_useRequestData,2),pizzas=_useRequestData2[0],request=_useRequestData2[1];var pizzasMap=pizzas&&pizzas.map(function(pizza){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(AdminPizzaCard,{request:request,pizza:pizza})},pizza.id);});var logout=function logout(){window.localStorage.removeItem(\"token\");console.log(\"click\");};return/*#__PURE__*/_jsxs(Body,{children:[/*#__PURE__*/_jsx(GlobalStyle,{}),/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(HeaderButtonDiv,{})}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(DivButtonLogout,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){goToAddPizza(navigate);},children:\"Criar Pizza\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return logout();},children:\"Logout\"})]}),/*#__PURE__*/_jsx(\"div\",{children:pizzas?pizzasMap:/*#__PURE__*/_jsx(\"h1\",{children:\"Restaurante fechado\"})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default Admin;","map":{"version":3,"names":["React","Body","DivButtonLogout","GlobalStyle","HeaderButtonDiv","useRequestData","BASE_URL","Footer","AdminPizzaCard","Button","useNavigate","goToAddPizza","useProtectedPage","Admin","navigate","pizzas","request","pizzasMap","map","pizza","id","logout","window","localStorage","removeItem","console","log"],"sources":["C:/Users/azeve/OneDrive/Documentos/silveira-Luiz-Azevedo/modulo6/case2/frontend/case2/src/pages/Admin/Admin.js"],"sourcesContent":["import React from 'react';\r\nimport { Body, DivButtonLogout, GlobalStyle, HeaderButtonDiv } from './styled';\r\nimport useRequestData from '../../hooks/useRequestData'\r\nimport { BASE_URL } from '../../constants/urls';\r\nimport Footer from '../../components/Footer/Footer';\r\nimport AdminPizzaCard from '../../components/AdminPizzaCard/AdminPizzaCard';\r\nimport { Button } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { goToAddPizza } from '../../routes/coordinator';\r\nimport useProtectedPage from '../../hooks/useProtectedPage';\r\n\r\n\r\n\r\nfunction Admin() {\r\n    const navigate = useNavigate();\r\n    useProtectedPage()\r\n  const [pizzas, request] = useRequestData(`${BASE_URL}/api/pizzas`, [])\r\n\r\n\r\n  const pizzasMap = pizzas && pizzas.map((pizza)=>{\r\n    return (\r\n      <div key={pizza.id}>\r\n        <AdminPizzaCard request={request} pizza={pizza}/>\r\n      </div>\r\n      )\r\n  })\r\n\r\n  const logout =()=>{\r\n    window.localStorage.removeItem(\"token\")\r\n    console.log(\"click\");\r\n  }\r\n\r\n  return (\r\n    <Body>\r\n      <GlobalStyle />\r\n      <header>\r\n        <HeaderButtonDiv>\r\n        </HeaderButtonDiv>\r\n      </header>\r\n      <main>\r\n        <DivButtonLogout>\r\n        <Button onClick={() => {goToAddPizza(navigate)}}>Criar Pizza</Button>\r\n        <Button onClick={() => logout()}>Logout</Button>\r\n        </DivButtonLogout>\r\n      <div>\r\n          {pizzas ? (pizzasMap): <h1>Restaurante fechado</h1>}\r\n        </div>\r\n      </main>\r\n<Footer />\r\n    </Body>\r\n  )\r\n}\r\n\r\nexport default Admin "],"mappings":"2KAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,eAAf,CAAgCC,WAAhC,CAA6CC,eAA7C,KAAoE,UAApE,CACA,MAAOC,eAAP,KAA2B,4BAA3B,CACA,OAASC,QAAT,KAAyB,sBAAzB,CACA,MAAOC,OAAP,KAAmB,gCAAnB,CACA,MAAOC,eAAP,KAA2B,gDAA3B,CACA,OAASC,MAAT,KAAuB,eAAvB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,YAAT,KAA6B,0BAA7B,CACA,MAAOC,iBAAP,KAA6B,8BAA7B,C,wFAIA,QAASC,MAAT,EAAiB,CACb,GAAMC,SAAQ,CAAGJ,WAAW,EAA5B,CACAE,gBAAgB,GAClB,oBAA0BP,cAAc,WAAIC,QAAJ,gBAA2B,EAA3B,CAAxC,oDAAOS,MAAP,qBAAeC,OAAf,qBAGA,GAAMC,UAAS,CAAGF,MAAM,EAAIA,MAAM,CAACG,GAAP,CAAW,SAACC,KAAD,CAAS,CAC9C,mBACE,kCACE,KAAC,cAAD,EAAgB,OAAO,CAAEH,OAAzB,CAAkC,KAAK,CAAEG,KAAzC,EADF,EAAUA,KAAK,CAACC,EAAhB,CADF,CAKD,CAN2B,CAA5B,CAQA,GAAMC,OAAM,CAAE,QAARA,OAAQ,EAAI,CAChBC,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,OAA/B,EACAC,OAAO,CAACC,GAAR,CAAY,OAAZ,EACD,CAHD,CAKA,mBACE,MAAC,IAAD,yBACE,KAAC,WAAD,IADF,cAEE,qCACE,KAAC,eAAD,IADF,EAFF,cAME,qCACE,MAAC,eAAD,yBACA,KAAC,MAAD,EAAQ,OAAO,CAAE,kBAAM,CAACf,YAAY,CAACG,QAAD,CAAZ,CAAuB,CAA/C,yBADA,cAEA,KAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMO,OAAM,EAAZ,EAAjB,oBAFA,GADF,cAKA,qBACKN,MAAM,CAAIE,SAAJ,cAAgB,2CAD3B,EALA,GANF,cAeJ,KAAC,MAAD,IAfI,GADF,CAmBD,CAED,cAAeJ,MAAf"},"metadata":{},"sourceType":"module"}