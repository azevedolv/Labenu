{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\azeve\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\recupera\\xE7\\xE3o PRs\\\\modulo2\\\\projeto-labefy\\\\src\\\\components\\\\ListaPlaylists.js\";\nimport React from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { base_url } from '../constants/URLs';\nimport DetalhesPlaylist from './DetalhesPlaylist.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DivDasListas = styled.div`\ndisplay: flex;\nflex-direction: column ;\nborder: 0.1rem solid white;\nborder-radius: 0.8rem;\njustify-content: space-between;\nalign-items: center;\nwidth: 15rem;\n`;\n_c = DivDasListas;\nconst DivDasPlaylists = styled.div`\ndisplay: flex;\nflex-direction: row ;\njustify-content: space-between;\nalign-items: center;\nwidth: 10rem;\np:hover{\n  cursor: pointer;\n}\np {\n  position: relative;\n  color: #fff;\n  text-decoration: none;  \n}\np:before {\n  content: \"\";\n  position: absolute;\n  width: 100%;\n  height: 3px;\n  bottom: 0;\n  left: 0;\n  background-color: #fff;\n  visibility: hidden;\n  -webkit-transform: scaleX(0);\n  transform: scaleX(0);\n  -webkit-transition: all 0.3s ease-in-out 0s;\n  transition: all 0.3s ease-in-out 0s;\n}\np:hover:before {\n  visibility: visible;\n  -webkit-transform: scaleX(1);\n  transform: scaleX(1);\n}\n`;\n_c2 = DivDasPlaylists;\nconst FakeButton = styled.span`\n  margin: 5px;\n  border: 0.5px solid black;\n  border-radius: 5px;\n  color: black;\n  width: 1.1rem;\n  height: 1.1rem;\n  padding: 2px;\n  background-color: #dfe73b;\n  font-size: 9px;\n  display: flex;\n  justify-content: center;\n  text-align: center;\n:hover{\n  cursor: pointer;\n  background-color: #0c1c18;\n  color:white\n}\n:active{\n  background-color: #120907;\n}\n`;\n_c3 = FakeButton;\nexport default class App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      listaDePlaylists: [],\n      tela: \"lista\",\n      playlistId: \"\"\n    };\n\n    this.componentDidMount = () => {\n      this.mostraPlaylists();\n    };\n\n    this.mostraPlaylists = async () => {\n      try {\n        const url = `${base_url}/playlists`;\n        const headers = {\n          headers: {\n            Authorization: 'azevedolv-silveira'\n          }\n        };\n        const response = await axios.get(url, headers);\n        console.log(response.data.result.list);\n        this.setState({\n          listaDePlaylists: response.data.result.list\n        });\n      } catch (err) {\n        console.log(err.reponse);\n      }\n    };\n\n    this.trocaTelaDetalhes = playlistId => {\n      if (this.state.tela === \"lista\") {\n        this.setState({\n          tela: \"detalhes\",\n          playlistId: playlistId\n        });\n      } else {\n        this.setState({\n          tela: \"lista\",\n          playlistId: \"\"\n        });\n      }\n    };\n\n    this.deletaPlaylist = playlistId => {\n      if (window.confirm(\"Tem certeza que deseja excluir a música da playlist?\")) {\n        //tipo um alert mas com ok ou cancelar\n        const url = `${base_url}/playlists/${playlistId}`;\n        const headers = {\n          headers: {\n            Authorization: 'azevedolv-silveira'\n          }\n        };\n        axios.delete(url, headers //CHAVE DE ACESSO\n        ).then(() => {\n          alert(\"Beleza... Playlist excluída.\");\n          this.mostraPlaylists(); //ATUALIZA A LISTA\n        }).catch(error => {\n          alert(\"ERRO AO APAGAR PLAYLIST\");\n        });\n      }\n    };\n  }\n\n  render() {\n    const playlists = this.state.listaDePlaylists.map(playlist => {\n      return /*#__PURE__*/_jsxDEV(DivDasPlaylists, {\n        children: /*#__PURE__*/_jsxDEV(DivDasPlaylists, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: () => this.trocaTelaDetalhes(playlist.id),\n            children: playlist.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FakeButton, {\n            onClick: () => this.deletaPlaylist(playlist.id),\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, playlist.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this);\n    }); // const getNomePlaylist = this.state.listaDePlaylists.map((playlist) => {\n    //   return (\n    //     <DivDasPlaylists\n    //       key={playlist.id}\n    //     >\n    //       <DivDasPlaylists>\n    //         <p>{playlist.name}</p>\n    //       </DivDasPlaylists>\n    //     </DivDasPlaylists>\n    //   )\n    // }).filter((playlist) =>{\n    //   if(playlist.id == this.state.playlistId){\n    //     return (\n    //       <DivDasPlaylists\n    //         key={playlist.id}\n    //       >\n    //         <DivDasPlaylists>\n    //           <p>{playlist}</p>\n    //         </DivDasPlaylists>\n    //       </DivDasPlaylists>\n    //     )\n    //   }\n    // })\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.tela === \"lista\" ? /*#__PURE__*/_jsxDEV(DivDasListas, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Playlists Criadas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }, this), this.state.listaDePlaylists.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"N\\xE3o h\\xE1 playlists salvas...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 62\n        }, this), playlists]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(DetalhesPlaylist, {\n        playlistId: this.state.playlistId,\n        trocaTelaDetalhes: this.trocaTelaDetalhes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"DivDasListas\");\n$RefreshReg$(_c2, \"DivDasPlaylists\");\n$RefreshReg$(_c3, \"FakeButton\");","map":{"version":3,"names":["React","styled","axios","base_url","DetalhesPlaylist","DivDasListas","div","DivDasPlaylists","FakeButton","span","App","Component","state","listaDePlaylists","tela","playlistId","componentDidMount","mostraPlaylists","url","headers","Authorization","response","get","console","log","data","result","list","setState","err","reponse","trocaTelaDetalhes","deletaPlaylist","window","confirm","delete","then","alert","catch","error","render","playlists","map","playlist","id","name","length"],"sources":["C:/Users/azeve/OneDrive/Área de Trabalho/recuperação PRs/modulo2/projeto-labefy/src/components/ListaPlaylists.js"],"sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components';\r\nimport axios from 'axios';\r\nimport { base_url } from '../constants/URLs';\r\nimport DetalhesPlaylist from './DetalhesPlaylist.js'\r\n\r\n\r\n\r\nconst DivDasListas = styled.div`\r\ndisplay: flex;\r\nflex-direction: column ;\r\nborder: 0.1rem solid white;\r\nborder-radius: 0.8rem;\r\njustify-content: space-between;\r\nalign-items: center;\r\nwidth: 15rem;\r\n`\r\nconst DivDasPlaylists = styled.div`\r\ndisplay: flex;\r\nflex-direction: row ;\r\njustify-content: space-between;\r\nalign-items: center;\r\nwidth: 10rem;\r\np:hover{\r\n  cursor: pointer;\r\n}\r\np {\r\n  position: relative;\r\n  color: #fff;\r\n  text-decoration: none;  \r\n}\r\np:before {\r\n  content: \"\";\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 3px;\r\n  bottom: 0;\r\n  left: 0;\r\n  background-color: #fff;\r\n  visibility: hidden;\r\n  -webkit-transform: scaleX(0);\r\n  transform: scaleX(0);\r\n  -webkit-transition: all 0.3s ease-in-out 0s;\r\n  transition: all 0.3s ease-in-out 0s;\r\n}\r\np:hover:before {\r\n  visibility: visible;\r\n  -webkit-transform: scaleX(1);\r\n  transform: scaleX(1);\r\n}\r\n`\r\nconst FakeButton = styled.span`\r\n  margin: 5px;\r\n  border: 0.5px solid black;\r\n  border-radius: 5px;\r\n  color: black;\r\n  width: 1.1rem;\r\n  height: 1.1rem;\r\n  padding: 2px;\r\n  background-color: #dfe73b;\r\n  font-size: 9px;\r\n  display: flex;\r\n  justify-content: center;\r\n  text-align: center;\r\n:hover{\r\n  cursor: pointer;\r\n  background-color: #0c1c18;\r\n  color:white\r\n}\r\n:active{\r\n  background-color: #120907;\r\n}\r\n`\r\nexport default class App extends React.Component {\r\n  state = {\r\n    listaDePlaylists: [],\r\n    tela: \"lista\",\r\n    playlistId: \"\"\r\n  }\r\n  componentDidMount = () => {\r\n    this.mostraPlaylists()\r\n  }\r\n  mostraPlaylists = async () => {\r\n    try {\r\n      const url = `${base_url}/playlists`\r\n      const headers = {\r\n        headers: {\r\n          Authorization: 'azevedolv-silveira'\r\n        }\r\n      }\r\n      const response = await axios.get(url, headers)\r\n      console.log(response.data.result.list)\r\n      this.setState({ listaDePlaylists: response.data.result.list })\r\n    } catch (err) {\r\n      console.log(err.reponse)\r\n    }\r\n  }\r\n\r\n  trocaTelaDetalhes = (playlistId) => {\r\n    if (this.state.tela === \"lista\") {\r\n      this.setState({ tela: \"detalhes\", playlistId: playlistId })\r\n    } else {\r\n      this.setState({ tela: \"lista\", playlistId: \"\" })\r\n    }\r\n  }\r\n\r\n\r\n\r\n  deletaPlaylist = playlistId => {\r\n    if (window.confirm(\"Tem certeza que deseja excluir a música da playlist?\")) {//tipo um alert mas com ok ou cancelar\r\n      const url = `${base_url}/playlists/${playlistId}`\r\n      const headers = {\r\n        headers: {\r\n          Authorization: 'azevedolv-silveira'\r\n        }\r\n      }\r\n\r\n      axios\r\n        .delete(\r\n          url,\r\n          headers//CHAVE DE ACESSO\r\n        )\r\n        .then(() => {\r\n          alert(\"Beleza... Playlist excluída.\");\r\n          this.mostraPlaylists();//ATUALIZA A LISTA\r\n        })\r\n        .catch(error => {\r\n          alert(\"ERRO AO APAGAR PLAYLIST\");\r\n        });\r\n    }\r\n  }\r\n  render() {\r\n    const playlists = this.state.listaDePlaylists.map((playlist) => {\r\n      return (\r\n        <DivDasPlaylists\r\n          key={playlist.id}\r\n        >\r\n          <DivDasPlaylists>\r\n            <p onClick={() => this.trocaTelaDetalhes(playlist.id)}>{playlist.name}</p>\r\n            <FakeButton onClick={() => this.deletaPlaylist(playlist.id)}>X</FakeButton>\r\n          </DivDasPlaylists>\r\n        </DivDasPlaylists>\r\n      )\r\n    })\r\n    // const getNomePlaylist = this.state.listaDePlaylists.map((playlist) => {\r\n    //   return (\r\n    //     <DivDasPlaylists\r\n    //       key={playlist.id}\r\n    //     >\r\n    //       <DivDasPlaylists>\r\n    //         <p>{playlist.name}</p>\r\n    //       </DivDasPlaylists>\r\n    //     </DivDasPlaylists>\r\n    //   )\r\n    // }).filter((playlist) =>{\r\n    //   if(playlist.id == this.state.playlistId){\r\n    //     return (\r\n    //       <DivDasPlaylists\r\n    //         key={playlist.id}\r\n    //       >\r\n    //         <DivDasPlaylists>\r\n    //           <p>{playlist}</p>\r\n    //         </DivDasPlaylists>\r\n    //       </DivDasPlaylists>\r\n    //     )\r\n    //   }\r\n    // })\r\n    return (\r\n      <div>\r\n        {this.state.tela === \"lista\" ?\r\n          (\r\n              <DivDasListas>\r\n                <h2>Playlists Criadas</h2>\r\n                {this.state.listaDePlaylists.length === 0 && <div>Não há playlists salvas...</div>}\r\n                {playlists}\r\n              </DivDasListas>\r\n          )\r\n          : (<DetalhesPlaylist playlistId={this.state.playlistId} trocaTelaDetalhes={this.trocaTelaDetalhes} />)\r\n        }\r\n      </div>\r\n\r\n    )\r\n  }\r\n} "],"mappings":"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"},"metadata":{},"sourceType":"module"}